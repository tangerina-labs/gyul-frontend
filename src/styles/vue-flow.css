/* =============================================================================
   VUE FLOW OVERRIDES
   
   Custom styles for Vue Flow components to match gyul design system.
   These styles use CSS variables for brand colors to maintain consistency.
   ============================================================================= */

/* Background */
.vue-flow {
  background-color: #f9fafb; /* gray-50 */
}

.vue-flow__background {
  background-color: #f9fafb; /* gray-50 */
}

/* ---------------------------------------------------------------------------
   Edges - Connection lines between nodes
   --------------------------------------------------------------------------- */
.vue-flow__edge-path {
  stroke: #d1d5db; /* gray-300 */
  stroke-width: 1.5px;
  transition: stroke 120ms ease-out;
}

.vue-flow__edge:hover .vue-flow__edge-path {
  stroke: #9ca3af; /* gray-400 */
}

.vue-flow__edge.selected .vue-flow__edge-path {
  stroke: #14b8a6; /* brand-500 */
  stroke-width: 2.5px;
}

/* Branch highlight - Edges */
.vue-flow__edge.edge-highlighted .vue-flow__edge-path {
  stroke: #14b8a6; /* brand-500 */
  stroke-width: 2.5px;
  stroke-dasharray: 8, 4;
  animation: edgeFlow 0.5s linear infinite;
}

.vue-flow__edge.edge-faded .vue-flow__edge-path {
  opacity: 0.25;
  transition: opacity 120ms ease-out;
}

/* Branch highlight - Nodes */
.vue-flow__node.node-faded {
  opacity: 0.4;
  transition: opacity 120ms ease-out;
}

/* ---------------------------------------------------------------------------
   Handles - Connection points (legacy, handles are disabled in gyul)
   --------------------------------------------------------------------------- */
.vue-flow__handle {
  width: 12px;
  height: 12px;
  background-color: #6b7280; /* gray-500 */
  border: 2px solid #ffffff; /* white */
  border-radius: 9999px;
  transition: background-color 120ms ease-out, transform 120ms ease-out;
}

.vue-flow__handle:hover {
  background-color: #14b8a6; /* brand-500 */
  transform: scale(1.1);
}

/* ---------------------------------------------------------------------------
   Connection line while dragging
   --------------------------------------------------------------------------- */
.vue-flow__connection-line {
  stroke: #14b8a6; /* brand-500 */
  stroke-width: 2px;
  stroke-dasharray: 5, 5;
}

/* ---------------------------------------------------------------------------
   Selection box
   --------------------------------------------------------------------------- */
.vue-flow__selection {
  background: rgba(20, 184, 166, 0.15); /* brand-500 with opacity */
  border: 1px solid #14b8a6; /* brand-500 */
  border-radius: 6px;
}

/* ---------------------------------------------------------------------------
   Node animations
   --------------------------------------------------------------------------- */
.vue-flow__node {
  animation: nodeEnter 180ms ease-out;
}

.vue-flow__node.removing {
  animation: nodeExit 120ms ease-in forwards;
  pointer-events: none;
}

/* ---------------------------------------------------------------------------
   Canvas Creating Mode
   
   SVG cursor with "+" icon and overlay glow
   --------------------------------------------------------------------------- */
.canvas-creating-mode,
.canvas-creating-mode .vue-flow__pane {
  cursor: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" fill="white" stroke="%2314b8a6" stroke-width="2"/><line x1="12" y1="7" x2="12" y2="17" stroke="%2314b8a6" stroke-width="2" stroke-linecap="round"/><line x1="7" y1="12" x2="17" y2="12" stroke="%2314b8a6" stroke-width="2" stroke-linecap="round"/></svg>') 12 12, crosshair;
}

/* Overlay with subtle inset glow when in creating mode */
.canvas-view__overlay--creating {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 9; /* Just below controls */
  box-shadow: inset 0 0 60px rgba(20, 184, 166, 0.15);
  border: 2px solid transparent;
  border-image: linear-gradient(
    135deg,
    rgba(20, 184, 166, 0.2) 0%,
    rgba(20, 184, 166, 0.05) 50%,
    rgba(20, 184, 166, 0.2) 100%
  ) 1;
  animation: createModeGlow 2s ease-in-out infinite;
}
